  [1m[35m (125.0ms)[0m  [1m[35mCREATE DATABASE "music_app_development" ENCODING = 'unicode'[0m
  [1m[35m (79.9ms)[0m  [1m[35mCREATE DATABASE "music_app_test" ENCODING = 'unicode'[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4505726345591715405)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-04-16 18:52:33.015249', '2024-04-16 18:52:33.015251') RETURNING "key"[0m
Migrating to CreateUsers (20240416184949)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "session_token" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_session_token" ON "users" ("session_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240416184949') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4505726345591715405)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cats" for ::1 at 2024-04-16 12:35:44 -0700
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/cats"):
  
Started GET "/users/new" for ::1 at 2024-04-16 12:36:32 -0700
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 251)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 6663)
Completed 200 OK in 24ms (Views: 23.4ms | ActiveRecord: 0.0ms | Allocations: 7685)


Started GET "/users/new" for ::1 at 2024-04-16 12:36:47 -0700
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 194)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 3231)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms | Allocations: 4110)


Started GET "/users/new" for ::1 at 2024-04-16 12:36:55 -0700
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 192)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 1854)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms | Allocations: 2728)


Started POST "/users" for ::1 at 2024-04-16 12:37:06 -0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 762)



ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:

Started POST "/__better_errors/ec66fe5a2467234a/variables" for ::1 at 2024-04-16 12:37:06 -0700
Started POST "/users" for ::1 at 2024-04-16 12:40:26 -0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 5ms (ActiveRecord: 0.0ms | Allocations: 662)



ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:

Started POST "/__better_errors/69aa81f6929b1159/variables" for ::1 at 2024-04-16 12:40:26 -0700
Started GET "/users/new" for ::1 at 2024-04-16 12:40:31 -0700
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 54)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 1489)
Completed 200 OK in 21ms (Views: 20.6ms | ActiveRecord: 0.0ms | Allocations: 1733)


Started POST "/users" for ::1 at 2024-04-16 12:40:33 -0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 662)



ActionController::InvalidAuthenticityToken - Can't verify CSRF token authenticity.:

Started POST "/__better_errors/2df5fd057523a149/variables" for ::1 at 2024-04-16 12:40:34 -0700
Started GET "/users/new" for ::1 at 2024-04-16 12:44:29 -0700
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 193)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 1867)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms | Allocations: 2739)


Started POST "/users" for ::1 at 2024-04-16 12:44:32 -0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.0ms | Allocations: 9246)



NameError - undefined local variable or method `user' for #<UsersController:0x000000000097b8>
        params.require(user).permit(:email, :password)
                       ^^^^
Did you mean?  super:
  app/controllers/users_controller.rb:17:in `user_params'
  app/controllers/users_controller.rb:8:in `create'

Started POST "/__better_errors/68cefd1427e1ffd2/variables" for ::1 at 2024-04-16 12:44:32 -0700
Started POST "/users" for ::1 at 2024-04-16 12:45:16 -0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", ""], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:9:in `create'
Completed 422 Unprocessable Entity in 383ms (Views: 0.2ms | ActiveRecord: 22.0ms | Allocations: 20817)


Started GET "/users/new" for ::1 at 2024-04-16 12:45:24 -0700
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 191)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 1871)
Completed 200 OK in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms | Allocations: 2659)


Started POST "/users" for ::1 at 2024-04-16 12:45:32 -0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@gmail.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2024-04-16 19:45:32.963118"], ["updated_at", "2024-04-16 19:45:32.963118"]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:9:in `create'
Redirected to http://localhost:3000/users/1
Completed 302 Found in 308ms (ActiveRecord: 6.1ms | Allocations: 5263)


Started GET "/users/1" for ::1 at 2024-04-16 12:45:32 -0700

AbstractController::ActionNotFound - The action 'show' could not be found for UsersController:

Started POST "/__better_errors/09b79640db8ed41b/variables" for ::1 at 2024-04-16 12:45:33 -0700
Started GET "/users/new" for ::1 at 2024-04-16 12:49:54 -0700
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 195)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 1869)
Completed 200 OK in 9ms (Views: 9.3ms | ActiveRecord: 0.0ms | Allocations: 2741)


Started POST "/users" for ::1 at 2024-04-16 12:50:06 -0700
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"test123@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (2.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test123@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test123@gmail.com"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2024-04-16 19:50:07.111797"], ["updated_at", "2024-04-16 19:50:07.111797"]]
  â†³ app/controllers/users_controller.rb:9:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:9:in `create'
Redirected to http://localhost:3000/users/2
Completed 302 Found in 321ms (ActiveRecord: 19.1ms | Allocations: 8033)


Started GET "/users/2" for ::1 at 2024-04-16 12:50:07 -0700
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:17:in `show'
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 1.1ms | Allocations: 1933)


